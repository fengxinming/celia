/*!
 * celia.js v2.0.0
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).celia=n()}(this,function(){"use strict";function n(e){var n=e.getFullYear();return n%4==0&&n%100!=0||n%400==0}var t=Object.prototype.toString;function c(e,n){return n?e.bind(n):e}function r(e){return t.call(e)}var u=[31,28,31,30,31,30,31,31,30,31,30,31],a=[31,29,31,30,31,30,31,31,30,31,30,31];function i(e){return n(e)?a:u}function o(e,n,t){for(var r=c(n,t),u=0,a=e.length,i=void 0;!1!==i&&u<a;u++)i=r(e[u],u,e)}function s(e,n,t){if(n){if(n.indexOf)return n.indexOf(e,t);for(var r=n.length,u=t?t<0?Math.max(0,r+t):t:0;u<r;u++)if(u in n&&n[u]===e)return u}return-1}function d(e){return"number"==typeof e}function f(e){return void 0===e}function l(e,n){var t=+n.length,r=0,u=e.length;if(d(t))for(;r<t;)e[u++]=n[r++];else for(;!f(n[r]);)e[u++]=n[r++];return e.length=u,e}function g(e){return null==e}function m(e){return"function"==typeof e}var h=Array.isArray;function v(e){if(g(e)||m(e))return!1;var n=e.length;return h(e)||0===n||0<+n&&n-1 in e}function S(e){return"string"==typeof e}var M=Array.prototype.push;function Y(e,n,t){var r=c(n,t);for(var u in e)if(!1===r(e[u],u,e))break}function b(e,n,t){for(var r=c(n,t),u=0,a=void 0;!1!==a&&u<e;u++)a=r(u,u,u)}function p(e,n,t){e&&(v(e)?o(e,n,t):d(e)?b(e,n,t):Y(e,n,t))}var e={forEach:function(e,n,t){return e&&o(e,n,t)},grep:function(e,n,t){for(var r=[],u=0,a=e.length,i=!t;u<a;u++)!n(e[u],u)!==i&&r.push(e[u]);return r},inArray:s,includes:function(e,n){return-1!==s(n,e)},makeArray:function(e,n){var t=n||[];return e&&(v(Object(e))?l(t,S(e)?[e]:e):M.call(t,e)),t},map:function(e,n,t){var r=[],u=c(n,t);return p(e,function(e){g(e=u(e))||(r[r.length]=e)}),r},merge:l,remove:function(e,n){var t=s(n,e);return 0<=t&&e.splice(t,1),n},toArray:function(e){return e&&[].concat(e)}},y=/^\/?Date\((-?\d+)/i,D=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)\s*([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,H=[["YYYY-MM-DD",/(\d{4})-(\d\d)-(\d\d)/],["YYYY-MM",/(\d{4})-(\d\d)/,!1],["YYYYMMDD",/(\d{4})(\d\d)(\d\d)/],["YYYYMM",/(\d{4})(\d\d)/,!1],["YYYY",/\d{4}/,!1]],O=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)\s*([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,A=/\[.*?\]|Y{2,4}|y{2,4}|M{1,2}|D{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|SSS|Z{1,2}/g,w=[["HH:mm:ss.SSSS",/(\d\d):(\d\d):(\d\d)\.(\d+)/],["HH:mm:ss,SSSS",/(\d\d):(\d\d):(\d\d),(\d+)/],["HH:mm:ss",/(\d\d):(\d\d):(\d\d)/],["HH:mm",/(\d\d):(\d\d)/],["HHmmss.SSSS",/(\d\d)(\d\d)(\d\d)\.(\d+)/],["HHmmss,SSSS",/(\d\d)(\d\d)(\d\d),(\d+)/],["HHmmss",/(\d\d)(\d\d)(\d\d)/],["HHmm",/(\d\d)(\d\d)/],["HH",/\d\d/]],k=/(Z)|[+-](\d\d)(?::?(\d\d))?/,x=/-([a-z])/g;function T(e){return!g(e)&&"object"==typeof e}function I(e,n){return n?new Date(Date.UTC(e[0],e[1]||0,g(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)):new Date(e[0],e[1]||0,g(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)}var Z="years",j="months",F="days",C="hours",E="minutes",N="seconds",U="milliseconds",L={};function B(e){return S(e)?L[e]:void 0}Y({YEAR:Z,MONTH:j,DATE:"dates",DAY:F,HOUR:C,MINUTE:E,SECOND:N,MILLISECOND:U},function(e){L[e]=L[e.slice(0,-1)]=L[e.slice(0,1)]=e}),L.M=j,L.m=E,L.ms=U;var z={};function W(e){return e=e?B(e):U,z[e]}function R(e,n,t){var r=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];if(T(n))Y(n,function(e,n){var t=W(n);r[t]+=e});else{var u=W(t);r[u]+=n}return e.setTime(+I(r)),e}function V(e){return new Date(+e)}z[Z]=0,z[j]=1,z[F]=2,z[C]=3,z[E]=4,z[N]=5,z[U]=6;var $=(new Date).getTimezoneOffset();function P(e){return"[object Date]"===r(e)}function _(e,n,t){if(!S(e))return I(e,!0===n);if(S(n))return I(function(t,r){var e,n=r.length,u=[],a=!1;if(b(n,function(e){var n=t.charAt(e);switch(r.charAt(e)){case"Y":case"y":u[0]=(u[0]||"")+n;break;case"M":u[1]=(u[1]||"")+n;break;case"D":case"d":u[2]=(u[2]||"")+n;break;case"H":case"h":u[3]=(u[3]||"")+n;break;case"m":u[4]=(u[4]||"")+n;break;case"s":u[5]=(u[5]||"")+n;break;case"S":u[6]=(u[6]||"")+n;break;case"Z":a=!0}}),u=u.map(function(e){return parseInt(e,10)}),a)if(e=k.exec(t.slice(-1<r.indexOf("ZZ")?-5:-6))){var i=$;if(!e[1]){var c="+"===e[0].charAt(0)?1:-1;u[3]-=e[2]*c,u[4]-=(e[3]||0)*c}u[4]-=i}else u.isUTC=a&-1<t.indexOf("Z");return g(u[1])||(u[1]-=1),u}(e,n),t);var r=function(e){var t,r,u=[],a=O.exec(e)||D.exec(e);if(a){if(o(H,function(e,n){if(r=e[1].exec(a[1]))return b(3,function(e){u[e]=parseInt(r[e+1]||1,10)}),u[1]-=1,t=!1!==e[2],!1}),e.indexOf(u[0]))return e;if(r=null,a[3]&&o(w,function(e){if(r=e[1].exec(a[3]))return u=u.concat(r.slice(1).map(function(e){return parseInt(e,10)})),!1}),!t&&r)return u;if(r=null,a[4]){r=k.exec(a[4]);var n=$;r[1]||(u[3]-=r[2],u[4]-=r[3]||0),u[4]-=n}return u}return 4===e.length&&H[4][1].test(e)?((u=[parseInt(e,10),0,1]).isUTC=!0,u):e}(e);if(r!==e)return I(r,r.isUTC||!0===n);var u=y.exec(e);return new Date(null!==u?+u[1]:e)}function q(e,n,t){return e=g(e)?new Date:e.length?_(e,n,t):d(e)?new Date(e):P(e)?new Date(+e):e._i&&e.isValid()?new Date(+e):new Date}function G(e,n){var t=12*(n.getFullYear()-e.getFullYear())+(n.getMonth()-e.getMonth()),r=R(V(e),t,"months");return-(t+(n-r<0?(n-r)/(r-R(V(e),t-1,"months")):(n-r)/(R(V(e),t+1,"months")-r)))||0}function J(e,n){switch(n=B(n)){case Z:e.setMonth(0);case j:e.setDate(1);case F:e.setHours(0);case C:e.setMinutes(0);case E:e.setSeconds(0);case N:e.setMilliseconds(0)}return e}function K(e,n){return(n=B(n))&&n!==U&&(J(e,n),R(e,1,n),R(e,-1,U)),e}function Q(e,n){return void 0===n&&(n=2),("000000"+e).slice(-n)}function X(e,n){var t;return e<0?(t="+",e=Math.abs(e)):t="-",""+t+Q(Math.floor(e/60))+(n?"":":")+Q(Math.floor(e%60))}function ee(e){return 12<(e=e||24)?e-12:e}function ne(e,n,t,r){if(n=q(n),(t=B(f(t)?U:t))===U)switch(r){case"before":return+e<+n;case"after":return+n<+e;default:return+e==+n}else{var u=+n;switch(r){case"before":return+K(V(e),t)<u;case"after":return+J(V(e),t)>u;default:return+J(V(e),t)<=u&&u<=+K(V(e),t)}}}function te(e,n,t){return ne(e,n,t,"after")}function re(e,n,t){return ne(e,n,t,"before")}var ue={add:R,clone:V,dayOfYear:function(e,n){var t=i(e),r=e.getMonth(),u=0;return b(r,function(e){u+=t[e]}),u+=e.getDate(),f(n)?u:(e.setTime(+e+864e5*(n-u)),e)},daysInMonth:function(e){return i(e)[e.getMonth()]},diff:function(e,n,t,r){var u,a;switch(n=q(n),t=B(t)){case Z:u=G(e,n)/12;break;case j:u=G(e,n);break;case N:u=(e-n)/1e3;break;case E:u=(e-n)/6e4;break;case C:u=(e-n)/36e5;break;case F:u=(e-n)/864e5;break;default:u=e-n}return r?u:(a=u)<0?Math.ceil(a)||0:Math.floor(a)},endOf:K,format:function(n,e){return e?e.replace(A,function(e){switch(e){case"YY":return String(n.getFullYear()).slice(-2);case"YYYY":case"yyyy":return n.getFullYear();case"M":return n.getMonth()+1;case"MM":return Q(n.getMonth()+1);case"D":case"d":return n.getDate();case"DD":case"dd":return Q(n.getDate());case"H":return n.getHours();case"HH":return Q(n.getHours());case"h":return ee(n.getHours());case"hh":return Q(ee(n.getHours()));case"m":return n.getMinutes();case"mm":return Q(n.getMinutes());case"s":return n.getSeconds();case"ss":return Q(n.getSeconds());case"SSS":return Q(n.getMilliseconds(),3);case"Z":return X(n.getTimezoneOffset());case"ZZ":return X(n.getTimezoneOffset(),!0);default:return e}}):n.toISOString()},isAfter:te,isBefore:re,isBetween:function(e,n,t,r,u){return("("===(u=u||"()").charAt(0)?te(e,n,r):!re(e,n,r))&&(")"===u.charAt(1)?re(e,t,r):!te(e,t,r))},isLeapYear:n,isSame:function(e,n,t){return ne(e,n,t)},isSameOrAfter:function(e,n,t){return!re(e,n,t)},isSameOrBefore:function(e,n,t){return!te(e,n,t)},isValid:function(e){return"Invalid Date"!==e.toString()},parse:q,startOf:J,subtract:function(e,n,t){return R(e,-n,t)}};var ae={};return"Boolean,Number,String,Function,Array,Date,RegExp,Object,Error,Symbol".split(",").forEach(function(e){ae["[object "+e+"]"]=e.toLowerCase()}),{array:e,camelCase:function(e){return e.replace(x,function(e,n){return n.toUpperCase()})},date:ue,each:p,forIn:function(e,n,t){return e&&Y(e,n,t)},forNumber:function(e,n,t){return e&&b(e,n,t)},isArrayLike:v,isAsyncFunction:function(e){return"[object AsyncFunction]"===r(e)},isBoolean:function(e){return"boolean"==typeof e},isDate:P,isFunction:m,isNil:g,isNumber:d,isObject:T,isPromiseLike:function(e){return e&&m(e.then)},isString:S,isUndefined:f,type:function(e){return g(e)?e+"":T(e)||m(e)?ae[r(e)]||"object":typeof e}}});
