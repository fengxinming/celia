!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).celia=t()}(this,function(){"use strict";function o(e,t){return t?e.bind(t):e}function i(e,t,n){for(var r=o(t,n),u=0,a=e.length,i=void 0;!1!==i&&u<a;u++)i=r(e[u],u,e)}function e(e,t,n){return e&&i(e,t,n)}function r(e,t,n){if(t){if(t.indexOf)return t.indexOf(e,n);for(var r=t.length,u=n?n<0?Math.max(0,r+n):n:0;u<r;u++)if(u in t&&t[u]===e)return u}return-1}function u(e,t){for(var n=+t.length,r=e.length,u=0;u<n;u++)e[r++]=t[u];return e.length=r,e}function c(e){return null==e}function n(e){return"function"==typeof e}var a=Array.isArray;function s(e){if(c(e)||n(e))return!1;var t=e.length;return a(e)||0===t||0<+t&&t-1 in e}function d(e){return"string"==typeof e}var f=Array.prototype.push;function l(e){return"number"==typeof e}function h(e,t,n){var r=o(t,n);for(var u in e)if(!1===r(e[u],u,e))break}function m(e,t,n){for(var r=o(t,n),u=0,a=void 0;!1!==a&&u<e;u++)a=r(u,u,u)}function g(e,t,n){e&&(s(e)?i(e,t,n):l(e)?m(e,t,n):h(e,t,n))}function v(e,t){return e.splice(t,1),t}var t={append:function(e,t){e&&(e[e.length]=t)},forEach:e,grep:function(e,t,n){var r=[];if(e){var u=0,a=e.length;for(n=!!n;u<a;u++)!t(e[u],u)===n&&(r[r.length]=e[u])}return r},inArray:r,includes:function(e,t){return-1!==r(t,e)},join:u,makeArray:function(e,t){var n=t||[];return e&&(s(Object(e))?u(n,d(e)?[e]:e):n.push?n.push(e):f.call(n,e)),n},map:function(e,t,n){var r=[],u=o(t,n);return g(e,function(e){var t,n;c(e=u(e))||(n=e,(t=r)[t.length]=n)}),r},remove:function(e,t){var n=r(t,e);return 0<=n?(v(e,n),t):null},removeAt:v,toArray:function(e){return e&&[].concat(e)}},p=/-([a-z])/g;function M(e){return!c(e)&&"object"==typeof e}function S(e,t){return t?new Date(Date.UTC(e[0],e[1]||0,c(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)):new Date(e[0],e[1]||0,c(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)}var b="years",y="months",Y="days",D="hours",H="minutes",O="seconds",w="milliseconds",A=(new Date).getTimezoneOffset(),k={},x=function(e){k[e]=k[e.slice(0,-1)]=k[e.slice(0,1)]=e};function T(e){return d(e)?k[e]:void 0}x(w),x(b),x(y),x("dates"),x(Y),x(D),x(H),x(O),k.M=y,k.ms=w;var E={};function j(e){return e=e?T(e):w,E[e]}function I(e,t,n){var r=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];if(M(t))h(t,function(e,t){var n=j(t);r[n]+=e});else{var u=j(n);r[u]+=t}return e.setTime(+S(r)),e}function Z(e){return new Date(+e)}function F(e){var t=e.getFullYear();return t%4==0&&t%100!=0||t%400==0}E[b]=0,E[y]=1,E[Y]=2,E[D]=3,E[H]=4,E[O]=5,E[w]=6;var N=[31,28,31,30,31,30,31,31,30,31,30,31],_=[31,29,31,30,31,30,31,31,30,31,30,31];function C(e){return F(e)?_:N}function U(e){return void 0===e}var B=/^\/?Date\((-?\d+)/i,L=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)\s*([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,z=[["YYYY-MM-DD",/(\d{4})-(\d\d)-(\d\d)/],["YYYY-MM",/(\d{4})-(\d\d)/,!1],["YYYYMMDD",/(\d{4})(\d\d)(\d\d)/],["YYYYMM",/(\d{4})(\d\d)/,!1],["YYYY",/\d{4}/,!1]],W=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)\s*([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,R=/\[.*?\]|Y{2,4}|y{2,4}|M{1,2}|D{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|SSS|Z{1,2}/g,P=[["HH:mm:ss.SSSS",/(\d\d):(\d\d):(\d\d)\.(\d+)/],["HH:mm:ss,SSSS",/(\d\d):(\d\d):(\d\d),(\d+)/],["HH:mm:ss",/(\d\d):(\d\d):(\d\d)/],["HH:mm",/(\d\d):(\d\d)/],["HHmmss.SSSS",/(\d\d)(\d\d)(\d\d)\.(\d+)/],["HHmmss,SSSS",/(\d\d)(\d\d)(\d\d),(\d+)/],["HHmmss",/(\d\d)(\d\d)(\d\d)/],["HHmm",/(\d\d)(\d\d)/],["HH",/\d\d/]],V=/(Z)|[+-](\d\d)(?::?(\d\d))?/,$=Object.prototype.toString;function q(e){return $.call(e)}function G(e){return"[object Date]"===q(e)}function J(e,t,n){if(!d(e))return S(e,!0===t);if(d(t))return S(function(n,r){var e,t=r.length,u=[],a=!1;if(m(t,function(e){var t=n.charAt(e);switch(r.charAt(e)){case"Y":case"y":u[0]=(u[0]||"")+t;break;case"M":u[1]=(u[1]||"")+t;break;case"D":case"d":u[2]=(u[2]||"")+t;break;case"H":case"h":u[3]=(u[3]||"")+t;break;case"m":u[4]=(u[4]||"")+t;break;case"s":u[5]=(u[5]||"")+t;break;case"S":u[6]=(u[6]||"")+t;break;case"Z":a=!0}}),u=u.map(function(e){return parseInt(e,10)}),a)if(e=V.exec(n.slice(-1<r.indexOf("ZZ")?-5:-6))){var i=A;if(!e[1]){var o="+"===e[0].charAt(0)?1:-1;u[3]-=e[2]*o,u[4]-=(e[3]||0)*o}u[4]-=i}else u.isUTC=a&-1<n.indexOf("Z");return c(u[1])||(u[1]-=1),u}(e,t),n);var r=function(e){var n,r,u=[],a=W.exec(e)||L.exec(e);if(a){if(i(z,function(e,t){if(r=e[1].exec(a[1]))return m(3,function(e){u[e]=parseInt(r[e+1]||1,10)}),u[1]-=1,n=!1!==e[2],!1}),e.indexOf(u[0]))return e;if(r=null,a[3]&&i(P,function(e){if(r=e[1].exec(a[3]))return u=u.concat(r.slice(1).map(function(e){return parseInt(e,10)})),!1}),!n&&r)return u;if(r=null,a[4]){r=V.exec(a[4]);var t=A;r[1]||(u[3]-=r[2],u[4]-=r[3]||0),u[4]-=t}return u}return 4===e.length&&z[4][1].test(e)?((u=[parseInt(e,10),0,1]).isUTC=!0,u):e}(e);if(r!==e)return S(r,r.isUTC||!0===t);var u=B.exec(e);return new Date(null!==u?+u[1]:e)}function K(e,t,n){return e=c(e)?new Date:e.length?J(e,t,n):l(e)?new Date(e):G(e)?new Date(+e):e._i&&e.isValid()?new Date(+e):new Date}function Q(e,t){var n=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),r=I(Z(e),n,"months");return-(n+(t-r<0?(t-r)/(r-I(Z(e),n-1,"months")):(t-r)/(I(Z(e),n+1,"months")-r)))||0}function X(e,t){switch(t=T(t)){case b:e.setMonth(0);case y:e.setDate(1);case Y:e.setHours(0);case D:e.setMinutes(0);case H:e.setSeconds(0);case O:e.setMilliseconds(0)}return e}function ee(e,t){return(t=T(t))&&t!==w&&(X(e,t),I(e,1,t),I(e,-1,w)),e}function te(e,t){return void 0===t&&(t=2),("000000"+e).slice(-t)}function ne(e,t){var n;return e<0?(n="+",e=Math.abs(e)):n="-",""+n+te(Math.floor(e/60))+(t?"":":")+te(Math.floor(e%60))}function re(e){return 12<(e=e||24)?e-12:e}function ue(e,t,n,r){if(t=K(t),(n=T(U(n)?w:n))===w)switch(r){case"before":return+e<+t;case"after":return+t<+e;default:return+e==+t}else{var u=+t;switch(r){case"before":return+ee(Z(e),n)<u;case"after":return+X(Z(e),n)>u;default:return+X(Z(e),n)<=u&&u<=+ee(Z(e),n)}}}function ae(e,t,n){return ue(e,t,n,"after")}function ie(e,t,n){return ue(e,t,n,"before")}var oe={add:I,clone:Z,dayOfYear:function(e,t){var n=C(e),r=e.getMonth(),u=0;return m(r,function(e){u+=n[e]}),u+=e.getDate(),U(t)?u:(e.setTime(+e+864e5*(t-u)),e)},daysInMonth:function(e){return C(e)[e.getMonth()]},diff:function(e,t,n,r){var u,a;switch(t=K(t),n=T(n)){case b:u=Q(e,t)/12;break;case y:u=Q(e,t);break;case O:u=(e-t)/1e3;break;case H:u=(e-t)/6e4;break;case D:u=(e-t)/36e5;break;case Y:u=(e-t)/864e5;break;default:u=e-t}return r?u:(a=u)<0?Math.ceil(a)||0:Math.floor(a)},endOf:ee,format:function(t,e){return e?e.replace(R,function(e){switch(e){case"YY":return String(t.getFullYear()).slice(-2);case"YYYY":case"yyyy":return t.getFullYear();case"M":return t.getMonth()+1;case"MM":return te(t.getMonth()+1);case"D":case"d":return t.getDate();case"DD":case"dd":return te(t.getDate());case"H":return t.getHours();case"HH":return te(t.getHours());case"h":return re(t.getHours());case"hh":return te(re(t.getHours()));case"m":return t.getMinutes();case"mm":return te(t.getMinutes());case"s":return t.getSeconds();case"ss":return te(t.getSeconds());case"SSS":return te(t.getMilliseconds(),3);case"Z":return ne(t.getTimezoneOffset());case"ZZ":return ne(t.getTimezoneOffset(),!0);default:return e}}):t.toISOString()},isAfter:ae,isBefore:ie,isBetween:function(e,t,n,r,u){return("("===(u=u||"()").charAt(0)?ae(e,t,r):!ie(e,t,r))&&(")"===u.charAt(1)?ie(e,n,r):!ae(e,n,r))},isLeapYear:F,isSame:function(e,t,n){return ue(e,t,n)},isSameOrAfter:function(e,t,n){return!ie(e,t,n)},isSameOrBefore:function(e,t,n){return!ae(e,t,n)},isValid:function(e){return"Invalid Date"!==e.toString()},parse:K,startOf:X,subtract:function(e,t,n){return I(e,-t,n)}},ce={NotImplementedError:function(n){function e(e){var t=e+"() is not implemented";n.call(this,t),this.name="NotImplementedError",this.code="ERR_METHOD_NOT_IMPLEMENTED"}return n&&(e.__proto__=n),(e.prototype=Object.create(n&&n.prototype)).constructor=e}(Error)};var se={};return"Boolean,Number,String,Function,Array,Date,RegExp,Object,Error,Symbol".split(",").forEach(function(e){se["[object "+e+"]"]=e.toLowerCase()}),{array:t,camelCase:function(e){return e.replace(p,function(e,t){return t.toUpperCase()})},date:oe,each:g,error:ce,forEach:e,forIn:function(e,t,n){return e&&h(e,t,n)},forNumber:function(e,t,n){return e&&m(e,t,n)},isArrayLike:s,isAsyncFunction:function(e){return"[object AsyncFunction]"===q(e)},isBoolean:function(e){return"boolean"==typeof e},isDate:G,isFunction:n,isNil:c,isNumber:l,isObject:M,isPromiseLike:function(e){return!!e&&n(e.then)},isString:d,isUndefined:U,type:function(e){return c(e)?e+"":M(e)||n(e)?se[q(e)]||"object":typeof e}}});