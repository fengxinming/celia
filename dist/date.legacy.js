/*!
 * celia.js v3.0.0
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
"use strict";function c(e){return null==e}function u(e,t){return t?e.bind(t):e}function a(e,t){return t?new Date(Date.UTC(e[0],e[1]||0,c(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)):new Date(e[0],e[1]||0,c(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)}var r={},e=function(e,t){r[e]=r[e.slice(0,-1)]=r[t]=t};function i(e,t){return r[e]||t}e("years","Y"),e("months","M"),e("dates","D"),e("days","d"),e("hours","h"),e("minutes","m"),e("seconds","s"),e("milliseconds","ms");var t={Y:0,M:1,d:2,h:3,m:4,s:5,ms:6};function o(e){return e=i(e,"ms"),t[e]}function d(e,t,r){var n,d=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];if(c(n=t)||"object"!=typeof n){var s=o(r);d[s]+=t}else!function(e,t,r){var n=u(t,r);for(var d in e)if(!1===n(e[d],d,e))break}(t,function(e,t){var r=o(t);d[r]+=e});return e.setTime(+a(d)),e}function s(e){return new Date(+e)}function n(e){var t=e.getFullYear();return t%4==0&&t%100!=0||t%400==0}var f=[31,28,31,30,31,30,31,31,30,31,30,31],l=[31,29,31,30,31,30,31,31,30,31,30,31];function m(e){return n(e)?l:f}function h(e,t,r){for(var n=u(t,r),d=0,s=void 0;!1!==s&&d<e;d++)s=n(d,d,d)}var g=/^\/?Date\((-?\d+)/i,Y=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)\s*([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,M=[["YYYY-MM-DD",/(\d{4})-(\d\d)-(\d\d)/],["YYYY-MM",/(\d{4})-(\d\d)/,!1],["YYYYMMDD",/(\d{4})(\d\d)(\d\d)/],["YYYYMM",/(\d{4})(\d\d)/,!1],["YYYY",/\d{4}/,!1]],S=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)\s*([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,v=/\[.*?\]|Y{2,4}|y{2,4}|M{1,2}|D{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|SSS|Z{1,2}/g,D=[["HH:mm:ss.SSSS",/(\d\d):(\d\d):(\d\d)\.(\d+)/],["HH:mm:ss,SSSS",/(\d\d):(\d\d):(\d\d),(\d+)/],["HH:mm:ss",/(\d\d):(\d\d):(\d\d)/],["HH:mm",/(\d\d):(\d\d)/],["HHmmss.SSSS",/(\d\d)(\d\d)(\d\d)\.(\d+)/],["HHmmss,SSSS",/(\d\d)(\d\d)(\d\d),(\d+)/],["HHmmss",/(\d\d)(\d\d)(\d\d)/],["HHmm",/(\d\d)(\d\d)/],["HH",/\d\d/]],H=/(Z)|[+-](\d\d)(?::?(\d\d))?/,b=(new Date).getTimezoneOffset();function w(e){return"string"==typeof e}function p(e,t,r){for(var n=u(t,r),d=0,s=e.length,a=void 0;!1!==a&&d<s;d++)a=n(e[d],d,e)}var k=Object.prototype.toString;function y(e){return"[object Date]"===(t=e,k.call(t));var t}function x(e,t,r){if(!w(e))return a(e,!0===t);if(w(t))return a(function(r,n){var e,t=n.length,d=[],s=!1;if(h(t,function(e){var t=r.charAt(e);switch(n.charAt(e)){case"Y":case"y":d[0]=(d[0]||"")+t;break;case"M":d[1]=(d[1]||"")+t;break;case"D":case"d":d[2]=(d[2]||"")+t;break;case"H":case"h":d[3]=(d[3]||"")+t;break;case"m":d[4]=(d[4]||"")+t;break;case"s":d[5]=(d[5]||"")+t;break;case"S":d[6]=(d[6]||"")+t;break;case"Z":s=!0}}),d=d.map(function(e){return parseInt(e,10)}),s)if(e=H.exec(r.slice(-1<n.indexOf("ZZ")?-5:-6))){var a=b;if(!e[1]){var u="+"===e[0].charAt(0)?1:-1;d[3]-=e[2]*u,d[4]-=(e[3]||0)*u}d[4]-=a}else d.isUTC=s&-1<r.indexOf("Z");return c(d[1])||(d[1]-=1),d}(e,t),r);var n=function(e){var r,n,d=[],s=S.exec(e)||Y.exec(e);if(s){if(p(M,function(e,t){if(n=e[1].exec(s[1]))return h(3,function(e){d[e]=parseInt(n[e+1]||1,10)}),d[1]-=1,r=!1!==e[2],!1}),e.indexOf(d[0]))return e;if(n=null,s[3]&&p(D,function(e){if(n=e[1].exec(s[3]))return d=d.concat(n.slice(1).map(function(e){return parseInt(e,10)})),!1}),!r&&n)return d;if(n=null,s[4]){n=H.exec(s[4]);var t=b;n[1]||(d[3]-=n[2],d[4]-=n[3]||0),d[4]-=t}return d}return 4===e.length&&M[4][1].test(e)?((d=[parseInt(e,10),0,1]).isUTC=!0,d):e}(e);if(n!==e)return a(n,n.isUTC||!0===t);var d=g.exec(e);return new Date(null!==d?+d[1]:e)}function O(e,t,r){return e=c(e)?new Date:e.length?x(e,t,r):"number"==typeof e?new Date(e):y(e)?new Date(+e):e._i&&e.isValid()?new Date(+e):new Date}function Z(e,t){var r=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),n=d(s(e),r,"months");return-(r+(t<n?(t-n)/(n-d(s(e),r-1,"months")):(t-n)/(d(s(e),r+1,"months")-n)))||0}function T(e,t){switch(t=i(t)){case"Y":e.setMonth(0);case"M":e.setDate(1);case"D":case"d":e.setHours(0);case"h":e.setMinutes(0);case"m":e.setSeconds(0);case"s":e.setMilliseconds(0)}return e}function A(e,t){return"ms"===(t=i(t,"ms"))||(T(e,t),d(e,1,t),d(e,-1,"ms")),e}function I(e,t){return void 0===t&&(t=2),("000000"+e).slice(-t)}function F(e,t){var r;return e<0?(r="+",e=Math.abs(e)):r="-",""+r+I(Math.floor(e/60))+(t?"":":")+I(Math.floor(e%60))}function C(e){return 12<(e=e||24)?e-12:e}function U(e,t,r,n){if(t=O(t),"ms"===(r=i(r,"ms")))switch(n){case"before":return+e<+t;case"after":return+t<+e;default:return+e==+t}else{var d=+t;switch(n){case"before":return+A(s(e),r)<d;case"after":return+T(s(e),r)>d;default:return+T(s(e),r)<=d&&d<=+A(s(e),r)}}}function W(e,t,r){return U(e,t,r,"after")}function j(e,t,r){return U(e,t,r,"before")}var B={add:d,clone:s,dayOfYear:function(e,t){var r=m(e),n=e.getMonth(),d=0;return h(n,function(e){d+=r[e]}),d+=e.getDate(),void 0===t?d:(e.setTime(+e+864e5*(t-d)),e)},daysInMonth:function(e){return m(e)[e.getMonth()]},diff:function(e,t,r,n){var d,s;switch(t=O(t),r=i(r)){case"Y":d=Z(e,t)/12;break;case"M":d=Z(e,t);break;case"s":d=(e-t)/1e3;break;case"m":d=(e-t)/6e4;break;case"h":d=(e-t)/36e5;break;case"d":d=(e-t)/864e5;break;default:d=e-t}return n?d:(s=d)<0?Math.ceil(s)||0:Math.floor(s)},endOf:A,format:function(t,e){return e&&"UTC"!==e?e.replace(v,function(e){switch(e){case"YY":return String(t.getFullYear()).slice(-2);case"YYYY":case"yyyy":return t.getFullYear();case"M":return t.getMonth()+1;case"MM":return I(t.getMonth()+1);case"D":case"d":return t.getDate();case"DD":case"dd":return I(t.getDate());case"H":return t.getHours();case"HH":return I(t.getHours());case"h":return C(t.getHours());case"hh":return I(C(t.getHours()));case"m":return t.getMinutes();case"mm":return I(t.getMinutes());case"s":return t.getSeconds();case"ss":return I(t.getSeconds());case"SSS":return I(t.getMilliseconds(),3);case"Z":return F(b);case"ZZ":return F(b,!0);default:return e}}):t.toISOString()},isAfter:W,isBefore:j,isBetween:function(e,t,r,n,d){return("("===(d=d||"()").charAt(0)?W(e,t,n):!j(e,t,n))&&(")"===d.charAt(1)?j(e,r,n):!W(e,r,n))},isLeapYear:n,isSame:function(e,t,r){return U(e,t,r)},isSameOrAfter:function(e,t,r){return!j(e,t,r)},isSameOrBefore:function(e,t,r){return!W(e,t,r)},isValid:function(e){return"Invalid Date"!==e.toString()},parse:O,startOf:T,subtract:function(e,t,r){return d(e,-t,r)}};module.exports=B;
