import {
  fragment
} from '../utils';

export default function (proto) {
  proto.wrap = function (content) {
    if (content) {
      fragment(content, null, (elem) => {
        content = elem;
        return false;
      });
      return this.each((dom) => {
        const wrapNode = content.cloneNode(true);
        const pNode = dom.parentNode;
        if (pNode) {
          pNode.replaceChild(wrapNode, dom);
        }
        wrapNode.appendChild(dom);
      });
    }
    return this;
  };
}
