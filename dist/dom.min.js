!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).celia=n()}(this,function(){"use strict";function f(e,n){return n?e.bind(n):e}function a(e,n,t){for(var r=f(n,t),o=0,i=e.length,u=void 0;!1!==u&&o<i;o++)u=r(e[o],o,e)}function c(e){return null==e}var t=Array.isArray;function d(e){if(c(e)||"function"==typeof e)return!1;var n=e.length;return t(e)||0===n||0<+n&&n-1 in e}var l=/^\s*<(\w+|!)[^>]*>/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;function p(e,n,t){return e&&function(e,n,t){var r=f(n,t);for(var o in e)if(!1===r(e[o],o,e))break}(e,n,t)}var s=document.createElement("div");function h(e,n,t){var r,o,i=e.match(v);if(i){var u=document.createElement(i[1]);p(n,function(e,n){u.setAttribute(n,e)}),t(u)}else l.test(e)&&(s.innerHTML=e,r=[],o=t||function(e){var n,t;t=e,(n=r)[n.length]=t},a(s.childNodes,function(e,n){var t=0;1===e.nodeType&&o(e,++t,n)}))}function r(e,n,r,o){var t,i,u=(t=n,i=document.createDocumentFragment(),a(t,function(e){e&&1===e.nodeType?i.appendChild(e):d(e)?a(e,function(e){i.appendChild(e)}):h(String(e),null,function(e){i.appendChild(e)})}),i);if(d(e)){var f=e.length-1;a(e,function(e,n){var t=u;n!==f&&(t=u.cloneNode(!0)),e[r]?e[r](t):o(e,t)})}else e[r]?e[r](u):o(e,u);return e}function g(e){return void 0===e}var i=1,u="expando9527",m={};function y(e,n,t){var r=e[u],o=m[r||-1];if(g(t))return o&&o[n];o||(e[u]=r=++i,o=m[r]={}),o[n]=t}function b(e,n,t){return e&&a(e,n,t)}function o(e,n){var t,r=function(e,n,t){if(n){if(n.indexOf)return n.indexOf(e,t);for(var r=n.length,o=t?t<0?Math.max(0,r+t):t:0;o<r;o++)if(o in n&&n[o]===e)return o}return-1}(n,e);return 0<=r?(t=r,e.splice(t,1),n):null}var P=window.removeEventListener?function(e,n,t){e.removeEventListener(n,t,!1)}:function(e,n,t){e.detachEvent("on"+n,t)};var D=window.addEventListener?function(e,n,t){e.addEventListener(n,t,!1)}:function(e,n,t){e.attachEvent("on"+n,t)};return{after:function(e){for(var n=[],t=arguments.length-1;0<t--;)n[t]=arguments[t+1];return r(e,n,"after",function(e,n){var t=e.parentNode;t&&t.insertBefore(n,e.nextSibling)})},append:function(e){for(var n=[],t=arguments.length-1;0<t--;)n[t]=arguments[t+1];return r(e,n,"appendChild")},before:function(e){for(var n=[],t=arguments.length-1;0<t--;)n[t]=arguments[t+1];return r(e,n,"before",function(e,n){var t=e.parentNode;t&&t.insertBefore(n,e)})},data:function(e,n,t){var r,o=y(e,"data"),i=!g(t),u=!i&&!g(n),f=u&&!(!c(r=n)&&"object"==typeof r);if(o||f||y(e,"data",o={}),i)o[n]=t;else{if(!u)return o;if(f)return o&&o[n];p(n,function(e,n){o[n]=e})}},off:function(t,e,n){var r=y(t,"events");y(t,"handle")&&(g(e)?b(r,function(e,n){P(t,n,e),delete r[n]}):b(e.split(" "),function(e){g(n)?(P(t,e,r[e]),delete r[e]):o(r[e],n)}))},on:function(t,e,r){var o,i,n,u=y(t,"events"),f=y(t,"handle");return u||y(t,"events",u={}),f||y(t,"handle",(i=u,(n=function(n){if(n.preventDefault||(n.preventDefault=function(){n.returnValue=!1}),n.stopPropagation||(n.stopPropagation=function(){n.cancelBubble=!0}),n.target||(n.target=n.srcElement||document),g(n.defaultPrevented)){var e=n.preventDefault;e=e.bind(n),n.preventDefault=function(){n.defaultPrevented=!0,e()},n.defaultPrevented=!1}n.isDefaultPrevented=function(){return n.defaultPrevented||!1===n.returnValue},b(i[n.type],function(e){return e.call(o,n)});try{delete n.preventDefault,delete n.stopPropagation,delete n.isDefaultPrevented}catch(e){n.preventDefault=null,n.stopPropagation=null,n.isDefaultPrevented=null}}).elem=o=t,f=n)),e.split(" ").forEach(function(e){var n=u[e];n||(D(t,e,f),n=u[e]=[]),n[n.length]=r}),t},prepend:function(e){for(var n=[],t=arguments.length-1;0<t--;)n[t]=arguments[t+1];return r(e,n,"prepend",function(e,n){1!==e.nodeType&&11!==e.nodeType&&9!==e.nodeType||e.insertBefore(n,e.firstChild)})}}});