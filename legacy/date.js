/*!
 * celia.js v2.0.0
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
"use strict";var __chunk_1=require("./chunk-f7046d4d.js"),__chunk_2=require("./chunk-45a38186.js"),isNumber=require("./isNumber.js"),isUndefined=require("./isUndefined.js"),isNil=require("./isNil.js"),isString=require("./isString.js"),__chunk_3=require("./chunk-5ca5f7da.js"),__chunk_4=require("./chunk-a45738ca.js"),__chunk_5=require("./chunk-77777e75.js"),isObject=require("./isObject.js"),isDate=require("./isDate.js");function parseArray(e,r){return r?new Date(Date.UTC(e[0],e[1]||0,isNil(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)):new Date(e[0],e[1]||0,isNil(e[2])?1:e[2],e[3]||0,e[4]||0,e[5]||0,e[6]||0)}var YEAR="years",MONTH="months",DATE="dates",DAY="days",HOUR="hours",MINUTE="minutes",SECOND="seconds",MILLISECOND="milliseconds",UNIT={YEAR:YEAR,MONTH:MONTH,DATE:DATE,DAY:DAY,HOUR:HOUR,MINUTE:MINUTE,SECOND:SECOND,MILLISECOND:MILLISECOND},UNITS={};function normalizeUnit(e){return isString(e)?UNITS[e]:void 0}__chunk_3.forIn(UNIT,function(e){UNITS[e]=UNITS[e.slice(0,-1)]=UNITS[e.slice(0,1)]=e}),UNITS.M=MONTH,UNITS.m=MINUTE,UNITS.ms=MILLISECOND;var indexOfUnits={};function getIndex(e){return e=e?normalizeUnit(e):MILLISECOND,indexOfUnits[e]}function add(e,r,t){var n=[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()];if(isObject(r))__chunk_3.forIn(r,function(e,r){var t=getIndex(r);n[t]+=e});else{var a=getIndex(t);n[a]+=r}return e.setTime(+parseArray(n)),e}function clone(e){return new Date(+e)}function dayOfYear(e,r){var t=__chunk_1.daysInYear(e),n=e.getMonth(),a=0;return __chunk_4.forNumber(n,function(e){a+=t[e]}),a+=e.getDate(),isUndefined(r)?a:(e.setTime(+e+864e5*(r-a)),e)}function daysInMonth(e){return __chunk_1.daysInYear(e)[e.getMonth()]}indexOfUnits[YEAR]=0,indexOfUnits[MONTH]=1,indexOfUnits[DAY]=2,indexOfUnits[HOUR]=3,indexOfUnits[MINUTE]=4,indexOfUnits[SECOND]=5,indexOfUnits[MILLISECOND]=6;var TIMEZONE_OFFSET=(new Date).getTimezoneOffset();function extractFrom(e){var t,n,a=[],s=__chunk_5.EXTENDED_ISO_REGEX.exec(e)||__chunk_5.BASIC_ISO_REGEX.exec(e);if(s){if(__chunk_2.forEach(__chunk_5.DATES_REGEX,function(e,r){if(n=e[1].exec(s[1]))return __chunk_4.forNumber(3,function(e){a[e]=parseInt(n[e+1]||1,10)}),a[1]-=1,t=!1!==e[2],!1}),e.indexOf(a[0]))return e;if(n=null,s[3]&&__chunk_2.forEach(__chunk_5.TIMES_REGEX,function(e){if(n=e[1].exec(s[3]))return a=a.concat(n.slice(1).map(function(e){return parseInt(e,10)})),!1}),!t&&n)return a;if(n=null,s[4]){n=__chunk_5.TZ_REGEX.exec(s[4]);var r=TIMEZONE_OFFSET;n[1]||(a[3]-=n[2],a[4]-=n[3]||0),a[4]-=r}return a}return 4===e.length&&__chunk_5.DATES_REGEX[4][1].test(e)?((a=[parseInt(e,10),0,1]).isUTC=!0,a):e}function parseFromFormat(t,n){var e,r=n.length,a=[],s=!1;if(__chunk_4.forNumber(r,function(e){var r=t.charAt(e);switch(n.charAt(e)){case"Y":case"y":a[0]=(a[0]||"")+r;break;case"M":a[1]=(a[1]||"")+r;break;case"D":case"d":a[2]=(a[2]||"")+r;break;case"H":case"h":a[3]=(a[3]||"")+r;break;case"m":a[4]=(a[4]||"")+r;break;case"s":a[5]=(a[5]||"")+r;break;case"S":a[6]=(a[6]||"")+r;break;case"Z":s=!0}}),a=a.map(function(e){return parseInt(e,10)}),s)if(e=__chunk_5.TZ_REGEX.exec(t.slice(-1<n.indexOf("ZZ")?-5:-6))){var i=TIMEZONE_OFFSET;if(!e[1]){var c="+"===e[0].charAt(0)?1:-1;a[3]-=e[2]*c,a[4]-=(e[3]||0)*c}a[4]-=i}else a.isUTC=s&-1<t.indexOf("Z");return isNil(a[1])||(a[1]-=1),a}function parseStringOrArray(e,r,t){if(!isString(e))return parseArray(e,!0===r);if(isString(r))return parseArray(parseFromFormat(e,r),t);var n=extractFrom(e);if(n!==e)return parseArray(n,n.isUTC||!0===r);var a=__chunk_5.ASP_NET_JSON_REGEX.exec(e);return new Date(null!==a?+a[1]:e)}function parse(e,r,t){return e=isNil(e)?new Date:e.length?parseStringOrArray(e,r,t):isNumber(e)?new Date(e):isDate(e)?new Date(+e):e._i&&e.isValid()?new Date(+e):new Date}function monthDiff(e,r){var t=12*(r.getFullYear()-e.getFullYear())+(r.getMonth()-e.getMonth()),n=add(clone(e),t,"months");return-(t+(r-n<0?(r-n)/(n-add(clone(e),t-1,"months")):(r-n)/(add(clone(e),t+1,"months")-n)))||0}function absFloor(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function diff(e,r,t,n){var a;switch(r=parse(r),t=normalizeUnit(t)){case YEAR:a=monthDiff(e,r)/12;break;case MONTH:a=monthDiff(e,r);break;case SECOND:a=(e-r)/1e3;break;case MINUTE:a=(e-r)/6e4;break;case HOUR:a=(e-r)/36e5;break;case DAY:a=(e-r)/864e5;break;default:a=e-r}return n?a:absFloor(a)}function startOf(e,r){switch(r=normalizeUnit(r)){case YEAR:e.setMonth(0);case MONTH:e.setDate(1);case DAY:e.setHours(0);case HOUR:e.setMinutes(0);case MINUTE:e.setSeconds(0);case SECOND:e.setMilliseconds(0)}return e}function endOf(e,r){return(r=normalizeUnit(r))&&r!==MILLISECOND&&(startOf(e,r),add(e,1,r),add(e,-1,MILLISECOND)),e}function padLeft(e,r){return void 0===r&&(r=2),("000000"+e).slice(-r)}function timezone(e,r){var t;return e<0?(t="+",e=Math.abs(e)):t="-",""+t+padLeft(Math.floor(e/60))+(r?"":":")+padLeft(Math.floor(e%60))}function h12(e){return 12<(e=e||24)?e-12:e}function format(r,e){return e?e.replace(__chunk_5.FORMAT_REGEX,function(e){switch(e){case"YY":return String(r.getFullYear()).slice(-2);case"YYYY":case"yyyy":return r.getFullYear();case"M":return r.getMonth()+1;case"MM":return padLeft(r.getMonth()+1);case"D":case"d":return r.getDate();case"DD":case"dd":return padLeft(r.getDate());case"H":return r.getHours();case"HH":return padLeft(r.getHours());case"h":return h12(r.getHours());case"hh":return padLeft(h12(r.getHours()));case"m":return r.getMinutes();case"mm":return padLeft(r.getMinutes());case"s":return r.getSeconds();case"ss":return padLeft(r.getSeconds());case"SSS":return padLeft(r.getMilliseconds(),3);case"Z":return timezone(r.getTimezoneOffset());case"ZZ":return timezone(r.getTimezoneOffset(),!0);default:return e}}):r.toISOString()}function compare(e,r,t,n){if(r=parse(r),(t=normalizeUnit(isUndefined(t)?MILLISECOND:t))===MILLISECOND)switch(n){case"before":return+e<+r;case"after":return+r<+e;default:return+e==+r}else{var a=+r;switch(n){case"before":return+endOf(clone(e),t)<a;case"after":return+startOf(clone(e),t)>a;default:return+startOf(clone(e),t)<=a&&a<=+endOf(clone(e),t)}}}function isAfter(e,r,t){return compare(e,r,t,"after")}function isBefore(e,r,t){return compare(e,r,t,"before")}function isBetween(e,r,t,n,a){return("("===(a=a||"()").charAt(0)?isAfter(e,r,n):!isBefore(e,r,n))&&(")"===a.charAt(1)?isBefore(e,t,n):!isAfter(e,t,n))}function isSame(e,r,t){return compare(e,r,t)}function isSameOrAfter(e,r,t){return!isBefore(e,r,t)}function isSameOrBefore(e,r,t){return!isAfter(e,r,t)}function isValid(e){return"Invalid Date"!==e.toString()}function subtract(e,r,t){return add(e,-r,t)}var date={add:add,clone:clone,dayOfYear:dayOfYear,daysInMonth:daysInMonth,diff:diff,endOf:endOf,format:format,isAfter:isAfter,isBefore:isBefore,isBetween:isBetween,isLeapYear:__chunk_1.isLeapYear,isSame:isSame,isSameOrAfter:isSameOrAfter,isSameOrBefore:isSameOrBefore,isValid:isValid,parse:parse,startOf:startOf,subtract:subtract};module.exports=date;
