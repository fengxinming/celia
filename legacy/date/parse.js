/*!
 * celia.js v2.0.0
 * (c) 2018-2019 Jesse Feng
 * Released under the MIT License.
 */
"use strict";var __chunk_1=require("./chunk-57c66484.js");require("./isLeapYear.js");var __chunk_2=require("./chunk-3a6d201e.js"),__chunk_4=require("./chunk-e454aef8.js"),__chunk_5=require("./chunk-deaeaac8.js"),__chunk_7=require("./chunk-4704adee.js"),TIMEZONE_OFFSET=(new Date).getTimezoneOffset();function forEach(e,r,n){for(var _=__chunk_2.newIterator(r,n),a=0,c=e.length,t=void 0;!1!==t&&a<c;a++)t=_(e[a],a,e)}function isNumber(e){return"number"==typeof e}function isDate(e){return"[object Date]"===__chunk_2.getRawType(e)}function extractFrom(e){var n,_,a=[],c=__chunk_7.EXTENDED_ISO_REGEX.exec(e)||__chunk_7.BASIC_ISO_REGEX.exec(e);if(c){if(forEach(__chunk_7.DATES_REGEX,function(e,r){if(_=e[1].exec(c[1]))return __chunk_5.forNumber(3,function(e){a[e]=parseInt(_[e+1]||1,10)}),a[1]-=1,n=!1!==e[2],!1}),e.indexOf(a[0]))return e;if(_=null,c[3]&&forEach(__chunk_7.TIMES_REGEX,function(e){if(_=e[1].exec(c[3]))return a=a.concat(_.slice(1).map(function(e){return parseInt(e,10)})),!1}),!n&&_)return a;if(_=null,c[4]){_=__chunk_7.TZ_REGEX.exec(c[4]);var r=TIMEZONE_OFFSET;_[1]||(a[3]-=_[2],a[4]-=_[3]||0),a[4]-=r}return a}return 4===e.length&&__chunk_7.DATES_REGEX[4][1].test(e)?((a=[parseInt(e,10),0,1]).isUTC=!0,a):e}function parseFromFormat(n,_){var e,r=_.length,a=[],c=!1;if(__chunk_5.forNumber(r,function(e){var r=n.charAt(e);switch(_.charAt(e)){case"Y":case"y":a[0]=(a[0]||"")+r;break;case"M":a[1]=(a[1]||"")+r;break;case"D":case"d":a[2]=(a[2]||"")+r;break;case"H":case"h":a[3]=(a[3]||"")+r;break;case"m":a[4]=(a[4]||"")+r;break;case"s":a[5]=(a[5]||"")+r;break;case"S":a[6]=(a[6]||"")+r;break;case"Z":c=!0}}),a=a.map(function(e){return parseInt(e,10)}),c)if(e=__chunk_7.TZ_REGEX.exec(n.slice(-1<_.indexOf("ZZ")?-5:-6))){var t=TIMEZONE_OFFSET;if(!e[1]){var u="+"===e[0].charAt(0)?1:-1;a[3]-=e[2]*u,a[4]-=(e[3]||0)*u}a[4]-=t}else a.isUTC=c&-1<n.indexOf("Z");return __chunk_1.isNil(a[1])||(a[1]-=1),a}function parseStringOrArray(e,r,n){if(!__chunk_4.isString(e))return __chunk_1.parseArray(e,!0===r);if(__chunk_4.isString(r))return __chunk_1.parseArray(parseFromFormat(e,r),n);var _=extractFrom(e);if(_!==e)return __chunk_1.parseArray(_,_.isUTC||!0===r);var a=__chunk_7.ASP_NET_JSON_REGEX.exec(e);return new Date(null!==a?+a[1]:e)}function parse(e,r,n){return e=__chunk_1.isNil(e)?new Date:e.length?parseStringOrArray(e,r,n):isNumber(e)?new Date(e):isDate(e)?new Date(+e):e._i&&e.isValid()?new Date(+e):new Date}module.exports=parse;
